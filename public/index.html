<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" type="text/css" href="styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans|Julius+Sans+One" rel="stylesheet">
    <meta charset="utf-8">
    <title>Movie Lens Online</title>
</head>

<body>
    <!-- Content goes here -->

    <div class="mainContainer">
        <header>Movie Lens Online</header>
        <nav class="navBar">
          <ul>
            <li id="home">Home</li>
            <li id="top-rated-movies">Top Movies</li>
            <li id="user">User</li>
          </ul>
        </nav>

        <input type="text" name="search" class="searchField" placeholder="Search Movies..."></input>
        <button id="movieSearch" name="movieSearch">GO</button>
        <div class="top-movies"></div>


    <section class="content-container">
      <!-- handlebars templates -->
    </section>
</div>

<!-- Searched Movie Title -->
<script id="movie-template" type="text/x-handlebars-template">
  <div class="movie-container">
    <h2>{{title}}</h2>
  </div>
</script>
<!-- User Page -->
<script id="user-template" type="text/x-handlebars-template">
  <div class="user">
    <h2>Welcome User</h2>
      <ul>
        <li>Id: {{id}}</li>
        <li>Age: {{age}}</li>
        <li>Gender: {{gender}}</li>
        <li>Occupation: {{occupation}}</li>
        <li>Zipcode: {{zipcode}}</li>
      </ul>
  </div>
</script>
<!-- Top Rated Movies -->
<script id="top-movies-template" type="text/x-handlebars-template">
  <div class="movie-container">
    <h2>{{title}}</h2>
    <p>Average Rating: {{avgRating}}</p>
    <select id="movie-rating" name="options" data-id="{{movieId}}">
      	<option>{{score}}</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
  	</select>
  </div>
</script>

    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="js/handlebars-v4.0.5.js"></script>
    <script src="js/main.js"></script>
</body>

</html>



<!-- // function getRatedMovies(template, context) {
//   $.get('/api/ratings', function(rawData) {
//     rawData.forEach(function(dataObj) {
//       var movieId = dataObj.movie_id;
//       var userId = dataObj.user_id;
//       var score = dataObj.score;
//       if (movieId === context.movieId && userId === 17) {
//         context.score = score;
//         var html = template(context);
//         $('.content-container').prepend(html).fadeIn('slow');
//       }
//     });
//   });
// }
//
// $.get('/api/top_rated_movies', function(data) {
//   var source = $('#top-movies-template').html();
//   var template = Handlebars.compile(source);
//   data.forEach(function(movieWrapper) {
//     var context = {
//       title: movieWrapper.movie.title,
//       avgRating: movieWrapper.average_rating.toFixed(1),
//       movieId: movieWrapper.movie.id
//     };
//     getRatedMovies(template, context);
//   });
// }); -->
